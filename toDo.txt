- сделать валидацию, что хотя бы одна услуга выбрана (js)
- сделать дефолтные значения для кол-ва процедур, если не ввели число в поле
- сделать проверки на успешность операций с бд
- оптимизировать алгоритм приведения дат к читаемому формату
- для множественнных процедур выводить кол-во на странице результатов
- распределить логику в обработчике модалки (контроллер)